import{r as a,u as d,j as e}from"./index-Ccxkg3qY.js";import{s as v}from"./tmdb-QuCkShDo.js";import{M as x}from"./MovieList-BHzZkJjs.js";const g=()=>{const[n,r]=a.useState([]),[h,i]=a.useState(!1),[c,u]=a.useState(null),[f,l]=d(),s=f.get("query")??"";a.useEffect(()=>{if(!s){r([]);return}(async()=>{i(!0),u(null);try{const t=await v(s);r(t)}catch(t){u("Film araması sırasında hata oluştu.",t)}finally{i(!1)}})()},[s]);const p=o=>{o.preventDefault();const m=o.target.elements.query.value.trim();m?l({query:m}):(l({}),r([]))};return e.jsxs("div",{className:"moviespage-container",children:[e.jsx("h1",{children:"Search Movies"}),e.jsxs("form",{onSubmit:p,children:[e.jsx("input",{className:"search-input",name:"query",type:"text",defaultValue:s,placeholder:"Search movies..."}),e.jsx("button",{className:"movies-page-button",type:"submit",children:"Search"})]}),h&&e.jsx("p",{children:"Loading..."}),c&&e.jsx("p",{children:c}),n.length>0&&e.jsx(x,{movies:n})]})};export{g as default};
